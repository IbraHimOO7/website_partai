{% extends 'base.html' %}

{% block content %}
{% load static %}
  <!-- Showcase -->
      <div id="myCarousel" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
          <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
          <li data-target="#myCarousel" data-slide-to="1"></li>
          <li data-target="#myCarousel" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="{% static 'img/partai4.jpg' %}" class="bd-placeholder-img" width="100%" height="100%" focusable="false" role="img"><rect width="100%" height="100%" fill="#777"/>
            <div class="container">
              <div class="carousel-caption text-left">
                <h1></h1>
                <p></p>
              </div>
            </div>
          </div>
          <div class="carousel-item">
            <img src="{% static 'img/partai3.jpg' %}" class="bd-placeholder-img" width="100%" height="100%" focusable="false" role="img"><rect width="100%" height="100%" fill="#777"/>
            <div class="container">
              <div class="carousel-caption">
                <h1></h1>
                <p></p>
              </div>
            </div>
          </div>
          <div class="carousel-item">
            <img src="{% static 'img/partai4.jpg' %}" class="bd-placeholder-img" width="100%" height="100%" focusable="false" role="img"><rect width="100%" height="100%" fill="#777"/>
            <div class="container">
              <div class="carousel-caption text-right">
                <h1></h1>
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>
  <!-- Listings -->
  <section id="listings"></section>
    <div class="container">
      <h1 class="text-center mb-3">Berita & Kegiatan PPRI</h1>
      <br />
      <div class="row infinite-container">
        <!-- Listing 1 -->
        {% for ber in berita %}
        <div class="col-md-6 col-lg-4 mb-4 infinite-item">
          <div class="card listing-preview">
            <img class="card-img-top" src="{{ber.imageURL}}" alt="">
            <div class="card-body">
              <div class="listing-heading text-center">
                <h4 class="text-primary">
                  {{ber.judul}}
                </h4>
              </div>
              <hr>
              <hr>
              <div class="row text-secondary pb-2">
                <div class="col-6">
                  <i class="fas fa-clock"></i> {{ber.waktu_posting}}</div>
              </div>
              <hr>
              <a href="{% url 'isinya' ber.id %}" class="btn btn-success btn-block">Selengkapnya</a>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      {% if page_obj.has_next %}
      <a class="infinite-more-link" href="?page={{ page_obj.next_page_number }}"></a>
      {% endif %}
      <div class="d-flex justify-content-center" style="display:none;">
          <div class="spinner-border" role="status">
              <span class="sr-only">Loading...</span>
          </div>
      </div>
    </div>
    </div>
  </section>
  <script src="{% static 'js/jquery-3.3.1.min.js' %} "></script>
  <script src="{% static 'js/jquery.waypoints.min.js' %}"></script> 
  <script src="{% static 'js/infinite.min.js' %}"></script> 
  <script>
    var infinite = new Waypoint.Infinite({
      element: $('.infinite-container')[0],
      handler: function(direction) {
      },
        offset: 'bottom-in-view',
        onBeforePageLoad: function () {
        $('.spinner-border').show();
        },
        onAfterPageLoad: function () {
        $('.spinner-border').hide();
      }    
  });
</script>
  {% endblock %}